<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
    <script src="interactive.js"></script>
    <meta charset="UTF-8">
    <title>Sala 123</title>

    <script>

        socket.on('added-new-room',function(data){
            console.log(data)
            socket.on(data.room,function(item){
                console.log(item)
                document.getElementsByName('count-'+item.room)[0].innerText=item.total;
            });
        });

        setTimeout( function(){
            var value = document.getElementsByName('anuncio_id')[0].value;
            createRoom(socket,"sala-"+value,value);
        },1000);

        function createRoom1(){
            createRoom(socket,"sala-1",1);
        }

        function createRoom2(){
            createRoom(socket,"sala-2",2);
        }

        function removeRoom1(){
            removeRoom(socket,'sala-1')
        }


    </script>
</head>
<body>

<form>
    <input type="hidden" name="anuncio_id" value="123"/>

</form>

<div>
    <span>Usuarios Online:</span>
    <span id="onlineusers"></span>
</div>

<div>
    <span>Usuarios vendo esse anuncio(123):</span>
    <span name="count-sala-123"></span>
</div>

<div>
    <span>Usuarios vendo esse anuncio(1):</span>
    <span name="count-sala-1"></span>
</div>

<div>
    <span>Usuarios vendo esse anuncio(2):</span>
    <span name="count-sala-2"></span>
</div>

</body>
</html>